#define clamp(x, a, b) max(min(x, b),a)